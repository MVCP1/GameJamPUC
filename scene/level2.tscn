[gd_scene load_steps=12 format=3 uid="uid://hb2afbrg3jaa"]

[ext_resource type="PackedScene" uid="uid://crdp5f1iar5n5" path="res://map/tile_box.tscn" id="1_37djo"]
[ext_resource type="MeshLibrary" uid="uid://n55ok4r7qx1s" path="res://map/mesh_lib.tres" id="2_jd8pj"]
[ext_resource type="PackedScene" uid="uid://nlidij6kaaek" path="res://entity/player.tscn" id="3_wvscg"]
[ext_resource type="PackedScene" uid="uid://caswk7rd54bhd" path="res://utility/camera.tscn" id="4_p4q4c"]
[ext_resource type="PackedScene" uid="uid://b5seaexu7yy8n" path="res://item/crystal.tscn" id="5_lh2a1"]
[ext_resource type="PackedScene" uid="uid://8nsp36ic37w6" path="res://entity/fairy.tscn" id="5_spcx5"]
[ext_resource type="PackedScene" uid="uid://dlmbyhsrt05y1" path="res://utility/die.tscn" id="6_3e6l1"]
[ext_resource type="PackedScene" uid="uid://ckl7l6l84vgwb" path="res://map/platform.tscn" id="7_dhlc6"]
[ext_resource type="PackedScene" uid="uid://dpxcujn61ww5i" path="res://item/light_button.tscn" id="8_iw23p"]
[ext_resource type="PackedScene" uid="uid://calb6hih46ttq" path="res://map/door.tscn" id="10_biklu"]
[ext_resource type="PackedScene" uid="uid://ctrw2n1rt0tfg" path="res://item/button.tscn" id="11_yq1uo"]

[node name="Main" type="Node3D"]

[node name="black" parent="." instance=ExtResource("6_3e6l1")]
transform = Transform3D(335.376, 0, 0, 0, 1, 0, 0, 0, 505.514, 0.444843, 0, -0.12174)

[node name="Left" type="Node3D" parent="."]

[node name="GridMap" type="GridMap" parent="Left"]
mesh_library = ExtResource("2_jd8pj")
cell_size = Vector3(1, 0.5, 1)
data = {
"cells": PackedInt32Array(1441792, 65527, 655363, 1441792, 65528, 655363, 1507327, 65527, 655363, 1507327, 65528, 655363, 1507326, 65528, 655363, 1507326, 65527, 655363, 1507325, 65527, 655363, 1507325, 65528, 655363, 1507325, 65529, 655363, 1507325, 65530, 655363, 1507324, 65530, 655363, 1507326, 65529, 655363, 1507324, 65528, 655363, 1507324, 65529, 655363, 1507324, 65531, 655363, 1507324, 65532, 655363, 1507325, 65531, 655363, 1507325, 65533, 655363, 1507325, 65532, 655363, 1507324, 65533, 655363, 1507324, 65534, 655363, 1507325, 65534, 655363, 1507325, 65535, 655363, 1507324, 65535, 655363, 1507323, 0, 655363, 1507323, 1, 655363, 1507324, 2, 655363, 1507324, 3, 655363, 1507324, 1, 655363, 1507324, 0, 655363, 1507325, 0, 1441797, 1507323, 2, 655365, 1507323, 65535, 1048581, 1507327, 65529, 1441797, 1507326, 65532, 5, 1507326, 65533, 1441797, 1507324, 65527, 1048581, 1507325, 2, 5, 1507325, 3, 3, 1507324, 4, 3, 1507325, 4, 3, 1441799, 65527, 3, 1441799, 65528, 3, 1441800, 65528, 3, 1441801, 65527, 3, 1441800, 65527, 3, 1441801, 65528, 1441797, 1441801, 65525, 1441795, 1441801, 65524, 1441795, 1441801, 65522, 1441795, 1441801, 65523, 1441795, 1441800, 65525, 655365, 1441800, 65524, 1048581, 1441801, 65517, 1048579, 1441800, 65517, 1048579, 1441799, 65517, 1048579, 1441798, 65517, 1048579, 1441797, 65517, 1048579, 1441796, 65517, 1048579, 1441795, 65517, 1048579, 1441794, 65517, 1048579, 1441795, 65516, 1048579, 1441793, 65516, 1048579, 1441794, 65516, 1048579, 1441796, 65516, 1048579, 1441797, 65516, 1048579, 1441798, 65516, 1048579, 1441799, 65516, 1048579, 1441800, 65516, 1048579, 1441801, 65516, 1048579, 1441802, 65516, 5, 1441802, 65517, 1441797, 1441793, 65517, 655365, 1441794, 65511, 655363, 1441794, 65512, 655363, 1441794, 65513, 655363, 1441794, 65514, 655363, 1441794, 65515, 655363, 1441793, 65515, 1048581, 1441795, 65515, 5, 1441794, 65510, 8, 1441795, 65510, 8, 1441793, 65509, 8, 1441794, 65509, 8, 1441795, 65509, 8, 1441796, 65509, 8, 1441794, 65508, 8, 1441793, 65508, 8, 1441793, 65507, 8, 1441793, 65506, 8, 1441793, 65505, 8, 1441793, 65504, 8, 1441793, 65503, 8, 1441793, 65502, 8, 1441794, 65502, 8, 1441794, 65501, 8, 1441794, 65503, 8, 1441794, 65504, 8, 1441794, 65505, 8, 1441795, 65506, 8, 1441796, 65507, 8, 1441796, 65506, 8, 1441796, 65505, 8, 1441795, 65505, 8, 1441794, 65506, 8, 1441794, 65507, 8, 1441795, 65508, 8, 1441796, 65508, 8, 1441795, 65507, 8, 1441797, 65509, 8, 1441796, 65510, 8, 1441798, 65509, 8, 1441798, 65508, 8, 1441798, 65507, 8, 1441797, 65506, 8, 1441797, 65507, 8, 1441797, 65508, 8, 1441797, 65510, 8, 1441798, 65510, 8, 1441799, 65509, 8, 1441800, 65509, 8, 1441800, 65508, 8, 1441800, 65507, 8, 1441800, 65506, 8, 1441799, 65506, 8, 1441799, 65507, 8, 1441799, 65508, 8, 1441797, 65505, 8, 1441798, 65505, 8, 1441798, 65506, 8, 1441797, 65504, 8, 1441796, 65504, 8, 1441795, 65504, 8, 1441795, 65503, 8, 1441796, 65503, 8, 1441796, 65502, 8, 1441795, 65502, 8, 1441795, 65501, 8, 1441796, 65501, 8, 1441797, 65502, 8, 1441797, 65503, 8, 1441798, 65503, 8, 1441798, 65504, 8, 1441799, 65503, 8, 1441799, 65504, 8, 1441799, 65505, 8, 1441800, 65505, 8, 1441800, 65504, 8, 1441801, 65504, 8, 1441801, 65505, 8, 1441801, 65506, 8, 1441801, 65507, 8, 1572871, 65507, 8, 1638407, 65507, 3, 1835014, 65506, 11, 1835014, 65507, 655371, 1900550, 65504, 1441803, 1900549, 65504, 1048587, 1376256, 65507, 589832, 1441792, 65507, 589832, 1507328, 65507, 589832, 1572864, 65507, 8, 1572864, 65508, 8, 1638400, 65508, 589832, 1703936, 65508, 589832, 1703936, 65507, 589832, 1703936, 65506, 589832, 1703936, 65505, 589832, 1638400, 65504, 589832, 1638400, 65503, 589832, 1572864, 65503, 589832, 1572864, 65504, 8, 1507328, 65504, 589832, 1507328, 65505, 589832, 1507328, 65506, 589832, 1441792, 65506, 589832, 1376256, 65506, 589832, 1376256, 65505, 589832, 1310720, 65505, 589832, 1310720, 65504, 589832, 1310720, 65506, 589832, 1310720, 65507, 589832, 1245184, 65507, 589832, 1245184, 65508, 589832, 1310720, 65508, 589832, 1310720, 65509, 589832, 1310720, 65510, 589832, 1376256, 65510, 589832, 1376256, 65511, 589832, 1441792, 65511, 589832, 1507328, 65511, 589832, 1507328, 65510, 589832, 1572864, 65510, 589832, 1638400, 65510, 589832, 1638400, 65509, 589832, 1572864, 65509, 8, 1703936, 65509, 589832, 1638400, 65507, 589832, 1638400, 65506, 589832, 1572864, 65506, 8, 1572864, 65505, 8, 1638400, 65505, 589832, 1703936, 65503, 589832, 1703936, 65504, 589832, 1769472, 65504, 589832, 1900544, 65506, 589832, 1900544, 65507, 589832, 1900544, 65508, 589832, 1900544, 65509, 589832, 1835008, 65502, 1441796, 1900544, 65501, 589832, 1835008, 65500, 8, 1769472, 65500, 589832, 1703936, 65500, 589832, 1638400, 65500, 589832, 1572864, 65500, 589832, 1507328, 65500, 589832, 1507328, 65501, 589832, 1572864, 65501, 589832, 1638400, 65502, 589832, 1572864, 65502, 589832, 1638400, 65501, 589832, 1703936, 65502, 589832, 1703936, 65501, 589832, 1900545, 65504, 1441803, 1900545, 65503, 1441803, 1900545, 65505, 1441803, 1900545, 65502, 1441803, 1900543, 65502, 1441796, 1900543, 65503, 3, 1900543, 65504, 1441796, 1900543, 65505, 1441796, 1900543, 65506, 1441796, 1900543, 65507, 1441796, 1900543, 65508, 1441796, 1900543, 65509, 655366, 1900542, 65506, 1441795, 1900541, 65506, 1441795, 1900540, 65506, 1441795, 1900540, 65507, 1441795, 1900539, 65507, 1441795, 1900538, 65507, 1441795, 1900537, 65507, 1441795, 1900537, 65506, 1441795, 1900536, 65506, 1441795, 1900538, 65506, 1441795, 1900539, 65506, 1441795, 1900541, 65507, 1441797, 1900536, 65507, 655365, 1900542, 65505, 1048581, 1900542, 65507, 655365, 1900530, 65503, 8, 1900530, 65504, 8, 1900531, 65504, 655363, 1900530, 65505, 655363, 1900530, 65506, 655363, 1900530, 65507, 655363, 1900530, 65508, 655363, 1900530, 65509, 655363, 1900531, 65509, 655363, 1900531, 65508, 655363, 1900531, 65507, 655363, 1900531, 65506, 655363, 1900531, 65505, 655363, 1900531, 65503, 5, 1900529, 65509, 8, 1900529, 65508, 8, 1900528, 65508, 8, 1900528, 65507, 8, 1900529, 65507, 8, 1900529, 65506, 8, 1900529, 65505, 8, 1900529, 65503, 8, 1900529, 65504, 8, 2031601, 65504, 8, 2031601, 65503, 8, 2031601, 65505, 8, 2031601, 65507, 8, 2031601, 65508, 8, 2031601, 65509, 8, 2162673, 65509, 8, 2162673, 65508, 8, 2162673, 65505, 8, 2162673, 65504, 8, 2162673, 65503, 8, 2162673, 65507, 8, 2293745, 65509, 8, 2293745, 65508, 8, 2293745, 65507, 8, 2293745, 65504, 8, 2293745, 65503, 8, 2293745, 65506, 8, 1900528, 65509, 8, 1900527, 65509, 8, 1900526, 65509, 8, 1900525, 65509, 8, 1900524, 65509, 8, 1900523, 65509, 8, 1900522, 65509, 8, 1966057, 65509, 8, 1966057, 65508, 8, 1966058, 65508, 8, 1966058, 65509, 8, 2031594, 65509, 8, 2031595, 65509, 8, 2031596, 65509, 8, 2031597, 65509, 8, 2031598, 65509, 8, 2031599, 65509, 8, 2031600, 65509, 8, 2162672, 65509, 8, 2162671, 65509, 8, 2162670, 65509, 8, 2162669, 65509, 8, 2162668, 65509, 8, 2162667, 65509, 8, 2293744, 65509, 8, 2293743, 65509, 8, 2293742, 65509, 8, 2293741, 65509, 8, 2293740, 65509, 8, 2293744, 65508, 8, 2293744, 65507, 8, 2293744, 65506, 8, 2293744, 65504, 8, 2293744, 65503, 8, 2293743, 65503, 8, 2293743, 65504, 8, 2293743, 65506, 8, 2293743, 65507, 8, 2293743, 65508, 8, 2293742, 65508, 8, 2293742, 65507, 8, 2293742, 65506, 8, 2293742, 65504, 8, 2293742, 65503, 8, 2293741, 65503, 8, 2293741, 65502, 8, 2293741, 65504, 8, 2293741, 65505, 8, 2293741, 65506, 8, 2293741, 65507, 8, 2293741, 65508, 8, 2293740, 65508, 8, 2293740, 65507, 8, 2293740, 65506, 8, 2293740, 65505, 8, 2293740, 65504, 8, 2293740, 65503, 8, 2293745, 65505, 8, 2293744, 65505, 8, 2293743, 65505, 8, 2293742, 65505, 8, 1507329, 65510, 8, 1507329, 65509, 8, 1507329, 65508, 8, 1507329, 65507, 8, 1507329, 65506, 8, 1507329, 65505, 8, 1507329, 65504, 8, 1507329, 65503, 8, 1507329, 65502, 8, 1572865, 65502, 8, 1572865, 65501, 8, 1572865, 65503, 8, 1572865, 65504, 8, 1572865, 65507, 8, 1572865, 65506, 8, 1572865, 65505, 8, 1572865, 65508, 8, 1572865, 65509, 8, 1572865, 65510, 8, 1638401, 65510, 8, 1638401, 65509, 8, 1638401, 65508, 8, 1638401, 65507, 8, 1638401, 65506, 8, 1638401, 65505, 8, 1638401, 65504, 8, 1638401, 65503, 8, 1638401, 65502, 8, 1638401, 65501, 8, 1703937, 65502, 8, 1703937, 65501, 8, 1703937, 65500, 8, 1703937, 65503, 8, 1703937, 65504, 8, 1703937, 65505, 8, 1703937, 65506, 8, 1703937, 65507, 8, 1703937, 65508, 8, 1703937, 65509, 8, 1703937, 65510, 8, 1769473, 65510, 8, 1769473, 65509, 8, 1769473, 65508, 8, 1769473, 65507, 8, 1769473, 65506, 8, 1769473, 65505, 8, 1769473, 65504, 8, 1769473, 65503, 8, 1769473, 65502, 8, 1769473, 65501, 8, 1835009, 65506, 8, 1835009, 65508, 8, 1835009, 65507, 8, 1835008, 65509, 8, 1835008, 65508, 8, 1835008, 65507, 8, 1835008, 65506, 8, 1835008, 65505, 8, 1835009, 65505, 3, 1835009, 65504, 3, 1835009, 65503, 3, 1835009, 65502, 3, 1835008, 65503, 3, 1835008, 65504, 3, 1900543, 65501, 8, 1835009, 65500, 8, 1900543, 65500, 8, 1835008, 65501, 8, 1835009, 65501, 8, 1835009, 65509, 8, 1835009, 65510, 8, 1835008, 65510, 8, 1507335, 65508, 8, 1572872, 65507, 3, 2097137, 65506, 8, 2162673, 65506, 8)
}
metadata/_editor_floor_ = Vector3(0, 31, 0)

[node name="Player" parent="." instance=ExtResource("3_wvscg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.33547, 12.6079, 3.45666)

[node name="Camera" parent="." instance=ExtResource("4_p4q4c")]
transform = Transform3D(0.707107, -0.5, 0.5, 0, 0.707107, 0.707107, -0.707107, -0.5, 0.5, 5, 19.8514, 5)
cull_mask = 524287
current = true
size = 9.745
plane_projection = true

[node name="Fairy" parent="." instance=ExtResource("5_spcx5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.749038, 14.8431, 2.36629)
energy_expense_modifier = 0.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.925377, -0.069138, 0.37269, -0.26236, 0.592816, 0.761404, -0.273579, -0.802365, 0.530439, -6.79944, 17.8323, -4.76837e-07)
visible = false
light_angular_distance = 46.21
light_negative = true

[node name="Crystal" parent="." instance=ExtResource("5_lh2a1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.08947, 15.2275, -26.2385)

[node name="Crystal2" parent="." instance=ExtResource("5_lh2a1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.43598, 12.2625, -33.0221)

[node name="Crystal3" parent="." instance=ExtResource("5_lh2a1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.74506, 12.1856, -25.7987)

[node name="Plataform" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("7_dhlc6")]
transform = Transform3D(-4.35087e-08, 0, 0.995362, 0, 0.460986, 0, -0.995362, 0, -4.35087e-08, 5.42217, 14.7308, -32.8003)
activators = [NodePath("../LightButton")]

[node name="On" parent="Plataform/box/CollisionShape3D" index="2"]
transform = Transform3D(1, 0, 3.55271e-15, 0, 1, 0, -3.55271e-15, 0, 1, 0, 0, 0)

[node name="End" parent="Plataform" index="2"]
transform = Transform3D(0.999999, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 0, -2.92234)

[node name="LightButton" parent="." instance=ExtResource("8_iw23p")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.10073, 14.7496, -31.1238)

[node name="Plataform2" parent="." instance=ExtResource("7_dhlc6")]
transform = Transform3D(1, 0, 0, 0, 0.507056, 0, 0, 0, 1, 1.58912, 11.6619, -7.89632)
always_active = true

[node name="box" parent="Plataform2" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 2.1265, 0, 0, 0)

[node name="End" parent="Plataform2" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.15945, 0, -0.114254)

[node name="Plataform3" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("7_dhlc6")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 0.422625, 0, 1, 0, -4.37114e-08, 9.18025, 11.7112, -16.9839)
activators = [NodePath("../LightButton2")]
fairy_distance = 3

[node name="box" parent="Plataform3" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 2.1265, 0, 0, 0)

[node name="End" parent="Plataform3" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5866, 0, -0.114253)

[node name="LightButton2" parent="." instance=ExtResource("8_iw23p")]
transform = Transform3D(2.98023e-08, 0, 1, 0, 1, 0, -1, 0, 2.98023e-08, 7.84641, 11.0689, -13.5533)

[node name="MeshInstance3D5" parent="." instance=ExtResource("1_37djo")]
transform = Transform3D(1.67237, 0, 0, 0, 1, 0, 0, 0, 6.09224, -13.4183, 14.3953, -29.2015)

[node name="LightButton3" parent="." instance=ExtResource("8_iw23p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.79908, 14.91, -30.6873)

[node name="Plataform4" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("7_dhlc6")]
transform = Transform3D(1, 0, 0, 0, 0.458794, 0, 0, 0, 1, -8.68358, 14.7345, -29.9462)
activators = [NodePath("../LightButton3")]
time = 1.5

[node name="Start" parent="Plataform4" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2.08353)

[node name="box" parent="Plataform4" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2)

[node name="End" parent="Plataform4" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.2102)

[node name="Plataform5" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("7_dhlc6")]
transform = Transform3D(1, 0, 0, 0, 0.458794, 0, 0, 0, 1, -9.72039, 14.7345, -29.9462)
activators = [NodePath("../LightButton3")]
time = 1.5

[node name="Start" parent="Plataform5" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.91647)

[node name="box" parent="Plataform5" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3)

[node name="End" parent="Plataform5" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.7898)

[node name="Plataform6" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("7_dhlc6")]
transform = Transform3D(1, 0, 0, 0, 0.458794, 0, 0, 0, 1, -10.7431, 14.7345, -29.9462)
activators = [NodePath("../LightButton3")]
time = 1.5

[node name="Start" parent="Plataform6" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2.08353)

[node name="box" parent="Plataform6" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2)

[node name="End" parent="Plataform6" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.2102)

[node name="Plataform7" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("7_dhlc6")]
transform = Transform3D(1, 0, 0, 0, 0.458794, 0, 0, 0, 1, -11.7864, 14.7345, -29.9462)
activators = [NodePath("../LightButton3")]
time = 1.5

[node name="Start" parent="Plataform7" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.91647)

[node name="box" parent="Plataform7" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3)

[node name="End" parent="Plataform7" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.7898)

[node name="Crystal4" parent="." instance=ExtResource("5_lh2a1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.17343, 15.25, -29.1191)

[node name="door" parent="." node_paths=PackedStringArray("activators") instance=ExtResource("10_biklu")]
transform = Transform3D(-6.55671e-08, 0, 1.5, 0, 1.5, 0, -1.5, 0, -6.55671e-08, -13.9223, 15.25, -29.3721)
activators = [NodePath("../Button"), NodePath("../LightButton4")]

[node name="Button" parent="." instance=ExtResource("11_yq1uo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.941, 15.7289, -28)

[node name="LightButton4" parent="." instance=ExtResource("8_iw23p")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -12.9613, 15.25, -30.7385)

[editable path="Plataform"]
[editable path="Plataform2"]
[editable path="Plataform3"]
[editable path="Plataform4"]
[editable path="Plataform5"]
[editable path="Plataform6"]
[editable path="Plataform7"]
